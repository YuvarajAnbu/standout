{"version":3,"file":"static/js/118.fe77d8db.chunk.js","mappings":"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","sources":["components/signupAndSignin/SignIn.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { UserContext, PathContext } from \"../../App\";\r\nimport \"./SignUpAndSignIn.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nfunction SignIn() {\r\n  // const history = useHistory();\r\n  const navigate = useNavigate();\r\n  const { setUser } = useContext(UserContext);\r\n  const { path } = useContext(PathContext);\r\n\r\n  const [hidePassword, setHidePassword] = useState(true);\r\n\r\n  const [failed, setFailed] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    trigger,\r\n  } = useForm({});\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Sign In | Stand Out\";\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    setLoading(true);\r\n    setFailed(false);\r\n    axios\r\n      .post(\"/user/login\", data)\r\n      .then((res) => {\r\n        if (res.status !== 200) {\r\n          throw new Error();\r\n        }\r\n        setUser(res.data.user);\r\n        setLoading(false);\r\n        // history.replace(path);\r\n        navigate(path, { replace: true });\r\n      })\r\n      .catch((err) => {\r\n        setFailed(true);\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-form signin\">\r\n      <img src=\"/images/shopping.jpg\" alt=\"shopping\" />\r\n      <div className=\"user-form__content\">\r\n        <div className=\"user-form__content__title\">\r\n          <div className=\"user-form__content__title__desc\">\r\n            <h1>Welcome</h1>\r\n            <p>\r\n              Explore millions of designs and stand out alone with your fashion\r\n            </p>\r\n          </div>\r\n          <Link to=\"/signup\">\r\n            <button type=\"button\">sign up</button>\r\n          </Link>\r\n        </div>\r\n        {failed && (\r\n          <p\r\n            className=\"user-form__content__form__input-container__error-msg\"\r\n            style={{ marginTop: \"20px\", maxWidth: \"100%\" }}\r\n          >\r\n            <FontAwesomeIcon icon=\"circle\" className=\"icon\" /> Incorrect\r\n            Username or Password\r\n          </p>\r\n        )}\r\n        <form\r\n          className=\"user-form__content__form\"\r\n          onSubmit={handleSubmit(onSubmit)}\r\n        >\r\n          <div className=\"user-form__content__form__input-container\">\r\n            <label htmlFor=\"email\">\r\n              email address <span>*</span>\r\n            </label>\r\n            <input\r\n              name=\"email\"\r\n              type=\"text\"\r\n              {...register(\"email\", {\r\n                pattern: {\r\n                  value: /^\\w{2,}@\\w{2,}\\.\\w{2,}(\\.\\w{2,})?$/,\r\n                  message: \"invalid email address\",\r\n                },\r\n                required: \"required\",\r\n              })}\r\n              onBlur={() => {\r\n                trigger(\"email\");\r\n              }}\r\n            />\r\n            {typeof errors.email !== \"undefined\" && (\r\n              <p className=\"user-form__content__form__input-container__error-msg\">\r\n                <FontAwesomeIcon icon=\"circle\" className=\"icon\" />{\" \"}\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"user-form__content__form__input-container\">\r\n            <label htmlFor=\"password\">\r\n              password <span>*</span>\r\n            </label>\r\n            <div\r\n              className=\"user-form__content__form__input-container__password-container\"\r\n              onClick={() => {\r\n                document\r\n                  .querySelector(\r\n                    \".user-form__content__form__input-container__password-container input\"\r\n                  )\r\n                  .focus();\r\n              }}\r\n            >\r\n              <input\r\n                name=\"password\"\r\n                type={hidePassword ? \"password\" : \"text\"}\r\n                {...register(\"password\", {\r\n                  required: \"required\",\r\n                })}\r\n              />\r\n              {hidePassword ? (\r\n                <FontAwesomeIcon\r\n                  icon=\"eye\"\r\n                  className=\"icon\"\r\n                  onClick={(e) => {\r\n                    setHidePassword(false);\r\n                    document\r\n                      .querySelector(\r\n                        \".user-form__content__form__input-container__password-container input\"\r\n                      )\r\n                      .focus();\r\n                  }}\r\n                />\r\n              ) : (\r\n                <FontAwesomeIcon\r\n                  icon=\"eye-slash\"\r\n                  className=\"icon\"\r\n                  onClick={() => {\r\n                    setHidePassword(true);\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            {typeof errors.password !== \"undefined\" && (\r\n              <p className=\"user-form__content__form__input-container__error-msg\">\r\n                <FontAwesomeIcon icon=\"circle\" className=\"icon\" />{\" \"}\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n          {loading ? (\r\n            <button\r\n              type=\"button\"\r\n              className=\"user-form__content__form__button user-form__content__form__button--loading\"\r\n            >\r\n              <div className=\"user-form__content__form__button__loading\"></div>\r\n            </button>\r\n          ) : (\r\n            <button type=\"submit\">sign in</button>\r\n          )}\r\n        </form>\r\n        <p className=\"user-form__content__signup\">\r\n          Not a member ? <Link to=\"/signup\">join for free</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"],"names":["navigate","useNavigate","setUser","useContext","UserContext","path","PathContext","_useState","useState","_useState2","_slicedToArray","hidePassword","setHidePassword","_useState3","_useState4","failed","setFailed","_useForm","useForm","register","handleSubmit","errors","formState","trigger","_useState5","_useState6","loading","setLoading","useEffect","document","title","_jsxs","className","children","_jsx","src","alt","Link","to","type","style","marginTop","maxWidth","FontAwesomeIcon","icon","onSubmit","data","axios","then","res","status","Error","user","replace","catch","err","console","log","htmlFor","_objectSpread","name","pattern","value","message","required","onBlur","email","onClick","querySelector","focus","e","password"],"sourceRoot":""}