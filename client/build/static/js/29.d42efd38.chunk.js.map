{"version":3,"file":"static/js/29.d42efd38.chunk.js","mappings":"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","sources":["components/item/subComponents/Reviews.js","components/item/Item.js"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  UserContext,\r\n  ReviewsContext,\r\n  UserCountContext,\r\n  HideReviewsContent,\r\n  OrdersContext,\r\n} from \"../../../App\";\r\nimport axios from \"axios\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nfunction Reviews({ id, totalRatings, setItem }) {\r\n  const { user } = useContext(UserContext);\r\n  const { reviews: userReviews, setReviews: setUserReviews } =\r\n    useContext(ReviewsContext);\r\n  const { userCount, setUserCount } = useContext(UserCountContext);\r\n  const { hideReviews, setHideReviews } = useContext(HideReviewsContent);\r\n  const { orders } = useContext(OrdersContext);\r\n\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [page, setPage] = useState(0);\r\n  const limit = 12;\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const [userReview, setUserReview] = useState({});\r\n  const [purchased, setPurchased] = useState(false);\r\n\r\n  const [errorMsgs, setErrorMsgs] = useState(\"\");\r\n  const [successMsgs, setSuccessMsgs] = useState(\"\");\r\n  const [showMsgs, setShowMsgs] = useState(false);\r\n\r\n  const [paginateLoading, setPaginateLoading] = useState(false);\r\n\r\n  // getting reviews from server\r\n  useEffect(() => {\r\n    if (id < 20) {\r\n      let { reviews, reviewed, purchased } = {\r\n        reviews: [],\r\n        reviewed: {},\r\n        purchased: false,\r\n      };\r\n      if (typeof user.name !== \"undefined\") {\r\n        userReviews.forEach((el) => {\r\n          if (el.productId === id && el.email !== user.email) {\r\n            reviews.push(el);\r\n          }\r\n          if (el.productId === id && el.email === user.email) {\r\n            if (!hideReviews.includes(id + \"&&&\" + user.email)) {\r\n              reviewed = el;\r\n            }\r\n          }\r\n        });\r\n        orders.forEach((el) => {\r\n          if (!purchased) {\r\n            el.items.forEach((e) => {\r\n              if (e._id === id && el.customer.email === user.email) {\r\n                purchased = true;\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        userReviews.forEach((el) => {\r\n          if (el.productId === id) {\r\n            reviews.push(el);\r\n          }\r\n        });\r\n      }\r\n      reviews.filter((e) => !hideReviews.includes(id + \"&&&\" + user.email));\r\n      if (typeof reviewed.email === \"undefined\") {\r\n        setUserReview(undefined);\r\n      } else {\r\n        reviews = reviews.filter((e) => e.email !== user.email);\r\n        setUserReview(reviewed);\r\n      }\r\n      setReviews(reviews);\r\n      setPurchased(purchased);\r\n      setPage(1);\r\n      setLoading(false);\r\n    } else {\r\n      axios\r\n        .get(`/product/reviews?productId=${id}&page=${0}&limit=${limit}`)\r\n        .then((res) => {\r\n          let { reviews, reviewed, purchased } = res.data;\r\n\r\n          if (typeof user.name !== \"undefined\") {\r\n            userReviews.forEach((el) => {\r\n              if (el.productId === id && el.email !== user.email) {\r\n                reviews.push(el);\r\n              }\r\n              if (el.productId === id && el.email === user.email) {\r\n                reviewed = [el];\r\n              }\r\n            });\r\n            reviews.forEach((e, i) => {\r\n              if (e.email === user.email) {\r\n                reviews.splice(i, 1);\r\n              }\r\n            });\r\n            orders.forEach((el) => {\r\n              if (!purchased) {\r\n                el.items.forEach((e) => {\r\n                  if (e._id === id && el.customer.email === user.email) {\r\n                    purchased = true;\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            userReviews.forEach((el) => {\r\n              if (el.productId === id) {\r\n                reviews.push(el);\r\n              }\r\n            });\r\n          }\r\n          reviews.filter((e) => !hideReviews.includes(id + \"&&&\" + user.email));\r\n\r\n          if (typeof reviewed !== \"undefined\") {\r\n            if (reviewed.length < 1) {\r\n              setReviews(reviews);\r\n              setUserReview(undefined);\r\n            } else {\r\n              reviews = reviews.filter((e) => e.email !== user.email);\r\n              setReviews(reviews.filter((el) => el._id !== reviewed[0]._id));\r\n              if (!hideReviews.includes(id + \"&&&\" + user.email)) {\r\n                setUserReview(reviewed[0]);\r\n              } else {\r\n                setUserReview(undefined);\r\n              }\r\n            }\r\n          } else {\r\n            setReviews(reviews);\r\n            setUserReview(undefined);\r\n          }\r\n\r\n          setPurchased(purchased);\r\n          setPage(1);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [id, orders, user, userReviews, hideReviews]);\r\n\r\n  // focusing text-area\r\n  useEffect(() => {\r\n    if (showInput) {\r\n      const textArea = document.getElementById(\"text-area\");\r\n      textArea.focus();\r\n      document.querySelector(\"textarea\").style.height =\r\n        document.querySelector(\"textarea\").scrollHeight + \"px\";\r\n    }\r\n  }, [showInput]);\r\n\r\n  const setHeight = useCallback(() => {\r\n    if (showInput) {\r\n      document.querySelector(\"textarea\").style.height =\r\n        document.querySelector(\"textarea\").scrollHeight + \"px\";\r\n    }\r\n  }, [showInput]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", setHeight);\r\n\r\n    return () => window.removeEventListener(\"resize\", setHeight);\r\n  }, [setHeight]);\r\n\r\n  useEffect(() => {\r\n    if (errorMsgs !== \"\") {\r\n      const a = setTimeout(() => {\r\n        setErrorMsgs(\"\");\r\n      }, 3400);\r\n      const b = setTimeout(() => {\r\n        setShowMsgs(true);\r\n      }, 1);\r\n      const c = setTimeout(() => {\r\n        setShowMsgs(false);\r\n      }, 3000);\r\n\r\n      return () => {\r\n        clearTimeout(a);\r\n        clearTimeout(b);\r\n        clearTimeout(c);\r\n      };\r\n    }\r\n  }, [errorMsgs]);\r\n\r\n  useEffect(() => {\r\n    if (successMsgs !== \"\") {\r\n      const a = setTimeout(() => {\r\n        setSuccessMsgs(\"\");\r\n      }, 3400);\r\n      const b = setTimeout(() => {\r\n        setShowMsgs(true);\r\n      }, 1);\r\n      const c = setTimeout(() => {\r\n        setShowMsgs(false);\r\n      }, 3000);\r\n\r\n      return () => {\r\n        clearTimeout(a);\r\n        clearTimeout(b);\r\n        clearTimeout(c);\r\n      };\r\n    }\r\n  }, [successMsgs]);\r\n\r\n  const pagination = async () => {\r\n    setPaginateLoading(true);\r\n    axios\r\n      .get(\r\n        `/product/reviews/?userId=${user.name}&productId=${id}&page=${page}&limit=${limit}`\r\n      )\r\n      .then((res) => {\r\n        if (typeof userReview !== \"undefined\") {\r\n          setReviews((prev) =>\r\n            prev.concat(\r\n              res.data.reviews.filter((el) => el._id !== userReview._id)\r\n            )\r\n          );\r\n        } else {\r\n          setReviews((prev) => prev.concat(res.data.reviews));\r\n        }\r\n        setPage((prev) => prev + 1);\r\n        setPaginateLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  useEffect(() => {\r\n    if (typeof errors.review !== \"undefined\") {\r\n      setErrorMsgs(errors.review.message);\r\n    }\r\n  }, [errors]);\r\n\r\n  const onSubmit = (data) => {\r\n    setLoading(true);\r\n    let review = {\r\n      _id: userCount,\r\n      productId: id,\r\n      email: user.email,\r\n      userName: user.name,\r\n      rating: data.rating,\r\n      review: data.review,\r\n    };\r\n\r\n    setUserReviews((prev) => [\r\n      ...prev.filter((el) => review.email !== el.email),\r\n      review,\r\n    ]);\r\n    setUserCount((prev) => prev + 1);\r\n    setPage(0);\r\n\r\n    //at last\r\n    setLoading(false);\r\n    setShowInput(false);\r\n    setSuccessMsgs(\"review updated successfully\");\r\n\r\n    // axios\r\n    //   .put(\"/product/reviews/add\", {\r\n    //     ...data,\r\n    //     productId: id,\r\n    //   })\r\n    //   .then((res) => {\r\n    //     setPage(0);\r\n    //     setLoading(true);\r\n    //     axios\r\n    //       .get(`/product/reviews?productId=${id}&page=${0}&limit=${limit}`)\r\n    //       .then((res) => {\r\n    //         const { reviews, reviewed, purchased } = res.data;\r\n\r\n    //         if (typeof reviewed !== \"undefined\") {\r\n    //           if (reviewed.length < 1) {\r\n    //             setReviews(reviews);\r\n    //             setUserReview(undefined);\r\n    //           } else {\r\n    //             setReviews(reviews.filter((el) => el._id !== reviewed[0]._id));\r\n    //             setUserReview(reviewed[0]);\r\n    //           }\r\n    //         } else {\r\n    //           setReviews(reviews);\r\n    //           setUserReview(undefined);\r\n    //         }\r\n\r\n    //         setPurchased(purchased);\r\n    //         setPage(1);\r\n    //         setLoading(false);\r\n    //         setSuccessMsgs(\"review updated successfully\");\r\n    //         // axios\r\n    //         //   .get(`/product/${id}`)\r\n    //         //   .then((res) => {\r\n    //         //     if (res.status !== 200) {\r\n    //         //       throw new Error();\r\n    //         //     }\r\n    //         //     setItem(res.data);\r\n    //         //   })\r\n    //         //   .catch((err) => {\r\n    //         //     console.log(err);\r\n    //         //   });\r\n    //       })\r\n    //       .catch((err) => {\r\n    //         console.log(err);\r\n\r\n    //         setLoading(false);\r\n    //         setSuccessMsgs(\"review updated successfully\");\r\n    //       });\r\n    //     setShowInput(false);\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     setErrorMsgs(\"something went wrong. please try again\");\r\n    //     console.log(err);\r\n    //   });\r\n  };\r\n\r\n  return loading ? (\r\n    <div className=\"item-page__loading__container item-page__loading__container--reviews\">\r\n      <div className=\"item-page__loading__container__title\"></div>\r\n      <div className=\"item-page__loading__container__flex\">\r\n        <div className=\"item-page__loading__container__circle\"></div>\r\n        <div className=\"item-page__loading__container__text\"></div>\r\n      </div>\r\n      <div className=\"item-page__loading__container__text item-page__loading__container__text--ratings\"></div>\r\n      <div className=\"item-page__loading__container__text\"></div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"item-page__reviews-container\">\r\n      {errorMsgs !== \"\" && (\r\n        <div className={showMsgs ? \"msg msg--visible\" : \"msg\"}>\r\n          <FontAwesomeIcon\r\n            icon={[\"far\", \"times-circle\"]}\r\n            className=\"icon\"\r\n            onClick={() => {\r\n              setSuccessMsgs(\"\");\r\n            }}\r\n          />\r\n          <p>{errorMsgs}</p>\r\n        </div>\r\n      )}\r\n      {successMsgs !== \"\" && (\r\n        <div className={showMsgs ? \"msg msg--visible\" : \"msg\"}>\r\n          <FontAwesomeIcon\r\n            icon={[\"far\", \"check-circle\"]}\r\n            className=\"icon\"\r\n            onClick={() => {\r\n              setSuccessMsgs(\"\");\r\n            }}\r\n          />\r\n          <p>{successMsgs}</p>\r\n        </div>\r\n      )}\r\n      <div className=\"item-page__reviews-container__title-container\">\r\n        <h1>reviews</h1>\r\n\r\n        {!showInput && !loading && (\r\n          <p\r\n            onClick={() => {\r\n              if (errorMsgs === \"\") {\r\n                if (typeof user.name !== \"undefined\") {\r\n                  if (purchased) {\r\n                    setShowInput(true);\r\n                  } else {\r\n                    setErrorMsgs(\r\n                      \"you need to purchase the product first inorder or review about it\"\r\n                    );\r\n                  }\r\n                } else {\r\n                  setErrorMsgs(\"login or signup to review about it\");\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            {typeof userReview !== \"undefined\"\r\n              ? \"Edit review\"\r\n              : \"Write a review\"}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {showInput && (\r\n        <div className=\"item-page__reviews-container__edit\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"item-page__reviews-container__edit__select\">\r\n              <select\r\n                name=\"rating\"\r\n                {...register(\"rating\")}\r\n                defaultValue={\r\n                  typeof userReview !== \"undefined\" ? userReview.rating : \"1\"\r\n                }\r\n              >\r\n                <option value=\"1\">1</option>\r\n                <option value=\"1.5\">1.5</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"2.5\">2.5</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"3.5\">3.5</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"4.5\">4.5</option>\r\n                <option value=\"5\">5</option>\r\n              </select>\r\n              <FontAwesomeIcon className=\"icon\" icon=\"chevron-right\" />\r\n            </div>\r\n            <textarea\r\n              name=\"review\"\r\n              id=\"text-area\"\r\n              placeholder=\"Type here....\"\r\n              {...register(\"review\", { required: \"reviews are required\" })}\r\n              defaultValue={\r\n                typeof userReview !== \"undefined\" ? userReview.review : \"\"\r\n              }\r\n              onInput={(e) => {\r\n                e.target.style.height = e.target.scrollHeight + \"px\";\r\n              }}\r\n            />\r\n            <div className=\"item-page__reviews-container__edit__button-container\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowInput(false);\r\n                }}\r\n              >\r\n                cancel\r\n              </button>\r\n              <button\r\n                className={\r\n                  typeof errors.review !== \"undefined\"\r\n                    ? \"item-page__reviews-container__edit__button-container--disabled\"\r\n                    : \"\"\r\n                }\r\n                type=\"submit\"\r\n              >\r\n                add\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {reviews.length < 1 && typeof userReview === \"undefined\" ? (\r\n        <p className=\"item-page__reviews-container__no-reviews\">\r\n          This product is not yet rated.\r\n        </p>\r\n      ) : (\r\n        <div className=\"item-page__reviews-container__reviews\">\r\n          {typeof userReview !== \"undefined\" && (\r\n            <div className=\"item-page__reviews-container__reviews__review\">\r\n              <div className=\"item-page__reviews-container__reviews__review__profile\">\r\n                <div className=\"item-page__reviews-container__reviews__review__profile__img\">\r\n                  {userReview.userName.slice(0, 1)}\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__profile__name\">\r\n                  {userReview.userName}\r\n                </p>\r\n              </div>\r\n              <div className=\"item-page__reviews-container__reviews__review__rating-container\">\r\n                <div className=\"item-page__reviews-container__reviews__review__rating-container__icons\">\r\n                  {`${userReview.rating}`.split(\".\").map((el, index) => {\r\n                    if (index === 0) {\r\n                      const arr = [];\r\n                      for (var i = 0; i < Number(el); i++) {\r\n                        arr.push(\r\n                          <FontAwesomeIcon\r\n                            key={i}\r\n                            icon=\"star\"\r\n                            className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                      return arr;\r\n                    } else {\r\n                      return (\r\n                        <FontAwesomeIcon\r\n                          key={9}\r\n                          icon=\"star-half\"\r\n                          className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__rating-container__rating\">\r\n                  {`(${userReview.rating})`}\r\n                </p>\r\n              </div>\r\n              <p className=\"item-page__reviews-container__reviews__review__desc\">\r\n                {userReview.review}\r\n              </p>\r\n              <FontAwesomeIcon\r\n                icon=\"trash\"\r\n                className=\"icon\"\r\n                onClick={() => {\r\n                  setHideReviews((prev) => [...prev, id + \"&&&\" + user.email]);\r\n                  setUserReview(undefined);\r\n                  setSuccessMsgs(\"your review had deleted successfully\");\r\n                  // axios\r\n                  //   .put(`/product/review/delete/${id}`)\r\n                  //   .then((res) => {\r\n                  //     setUserReview(undefined);\r\n                  //     setSuccessMsgs(\"your review had deleted successfully\");\r\n                  //   })\r\n                  //   .catch((err) => {\r\n                  //     console.log(err);\r\n                  //     setErrorMsgs(\"something went wrong. Try again later\");\r\n                  //   });\r\n                }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {reviews.map((el, j) => {\r\n            return (\r\n              <div\r\n                className=\"item-page__reviews-container__reviews__review\"\r\n                key={j}\r\n              >\r\n                <div className=\"item-page__reviews-container__reviews__review__profile\">\r\n                  <div className=\"item-page__reviews-container__reviews__review__profile__img\">\r\n                    {el.userName.slice(0, 1)}\r\n                  </div>\r\n                  <p className=\"item-page__reviews-container__reviews__review__profile__name\">\r\n                    {el.userName}\r\n                  </p>\r\n                </div>\r\n                <div className=\"item-page__reviews-container__reviews__review__rating-container\">\r\n                  <div className=\"item-page__reviews-container__reviews__review__rating-container__icons\">\r\n                    {`${el.rating}`.split(\".\").map((el, index) => {\r\n                      if (index === 0) {\r\n                        const arr = [];\r\n                        for (var i = 0; i < Number(el); i++) {\r\n                          arr.push(\r\n                            <FontAwesomeIcon\r\n                              key={i}\r\n                              icon=\"star\"\r\n                              className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                            />\r\n                          );\r\n                        }\r\n                        return arr;\r\n                      } else {\r\n                        return (\r\n                          <FontAwesomeIcon\r\n                            key={9}\r\n                            icon=\"star-half\"\r\n                            className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                    })}\r\n                  </div>\r\n                  <p className=\"item-page__reviews-container__reviews__review__rating-container__rating\">\r\n                    {`(${el.rating})`}\r\n                  </p>\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__desc\">\r\n                  {el.review}\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          <p className=\"item-page__reviews-container__reviews__count\">\r\n            {(typeof userReview !== \"undefined\"\r\n              ? reviews.length + 1\r\n              : reviews.length) < totalRatings\r\n              ? `${\r\n                  typeof userReview !== \"undefined\"\r\n                    ? reviews.length + 1\r\n                    : reviews.length\r\n                } / ${totalRatings}`\r\n              : `${totalRatings}/${totalRatings}`}{\" \"}\r\n            reviews\r\n          </p>\r\n          {(typeof userReview !== \"undefined\"\r\n            ? reviews.length + 1\r\n            : reviews.length) < totalRatings && (\r\n            <button\r\n              className={\r\n                paginateLoading\r\n                  ? \"item-page__reviews-container__reviews__load-more--loading\"\r\n                  : \"item-page__reviews-container__reviews__load-more\"\r\n              }\r\n              type=\"button\"\r\n              onClick={() => {\r\n                if (!paginateLoading) {\r\n                  pagination();\r\n                }\r\n              }}\r\n            >\r\n              {paginateLoading ? (\r\n                <div className=\"item-page__reviews-container__reviews__load-more\"></div>\r\n              ) : (\r\n                \"load more\"\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reviews;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./Item.css\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CartContext,\r\n  HideProductsContext,\r\n  UserProductsContext,\r\n  imgPrefixContext,\r\n} from \"../../App\";\r\nimport Reviews from \"./subComponents/Reviews\";\r\n\r\nfunction Item() {\r\n  // const history = useHistory();\r\n  const navigate = useNavigate();\r\n  const [item, setItem] = useState({});\r\n  const [stockIndex, setStockIndex] = useState(0);\r\n  const [sizeIndex, setSizeIndex] = useState(0);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [addedToCart, setAddedToCart] = useState(false);\r\n\r\n  const { id } = useParams();\r\n\r\n  const { setCart } = useContext(CartContext);\r\n  const { userProducts } = useContext(UserProductsContext);\r\n  const { hideProducts } = useContext(HideProductsContext);\r\n  const imgPrefix = useContext(imgPrefixContext);\r\n\r\n  const toTitleCase = (str) =>\r\n    `${str}`.replace(\r\n      /(^\\w|\\s\\w)(\\S*)/g,\r\n      (_, m1, m2) => m1.toUpperCase() + m2.toLowerCase()\r\n    );\r\n\r\n  useEffect(() => {\r\n    if (typeof item._id !== \"undefined\") {\r\n      document.title = `${toTitleCase(item.name)} | Stand Out`;\r\n    }\r\n  }, [item]);\r\n\r\n  useEffect(() => {\r\n    if (addedToCart) {\r\n      const a = setTimeout(() => {\r\n        setAddedToCart(false);\r\n      }, 3000);\r\n      return () => clearTimeout(a);\r\n    }\r\n  }, [addedToCart]);\r\n\r\n  useEffect(() => {\r\n    if (id.length < 20 || hideProducts.includes(id)) {\r\n      const product = userProducts.filter((e) => e._id === id);\r\n\r\n      if (product.length === 0) {\r\n        // history.replace(\"/404\");\r\n        navigate(\"/404\", { replace: true });\r\n      } else {\r\n        setItem(product[0]);\r\n      }\r\n    } else {\r\n      axios\r\n        .get(`/product/${id}`)\r\n        .then((res) => {\r\n          if (res.status !== 200) {\r\n            throw new Error();\r\n          }\r\n          if (typeof res.data.name === \"undefined\") {\r\n            // history.replace(\"/404\");\r\n            navigate(\"/404\", { replace: true });\r\n          } else {\r\n            setItem(res.data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // history.replace(\"/404\");\r\n          navigate(\"/404\", { replace: true });\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [id, userProducts, hideProducts, navigate]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setAddedToCart(true);\r\n    setCart((prev) => {\r\n      const exist = prev.findIndex(\r\n        (el) =>\r\n          el._id === item._id &&\r\n          el.size === item.stock[stockIndex].sizeRemaining[sizeIndex].size &&\r\n          el.color === item.stock[stockIndex].color\r\n      );\r\n\r\n      if (exist === -1) {\r\n        return [\r\n          ...prev,\r\n          {\r\n            _id: item._id,\r\n            image: item.stock[stockIndex].images[0],\r\n            name: item.name,\r\n            price: item.price,\r\n            size: item.stock[stockIndex].sizeRemaining[sizeIndex].size,\r\n            color: item.stock[stockIndex].color,\r\n            quantity: quantity,\r\n          },\r\n        ];\r\n      } else {\r\n        const a = [...prev];\r\n\r\n        a[exist] = {\r\n          _id: item._id,\r\n          image: item.stock[stockIndex].images[0],\r\n          name: item.name,\r\n          price: item.price,\r\n          size: item.stock[stockIndex].sizeRemaining[sizeIndex].size,\r\n          color: item.stock[stockIndex].color,\r\n          quantity: quantity + a[exist].quantity,\r\n        };\r\n        return [...a];\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"item-page\">\r\n      <div\r\n        className={\r\n          addedToCart\r\n            ? \"item-page__added item-page__added--visible\"\r\n            : \"item-page__added\"\r\n        }\r\n      >\r\n        <p>Added to Cart</p>\r\n        <Link to=\"/checkout\">\r\n          <button>go to cart</button>\r\n        </Link>\r\n      </div>\r\n\r\n      {typeof item._id === \"undefined\" ? (\r\n        <div className=\"item-page__loading__container item-page__loading__container--flexbox\">\r\n          <div className=\"item-page__loading__container__img\"></div>\r\n          <div className=\"item-page__loading__container__content\">\r\n            <div className=\"item-page__loading__container__text\"></div>\r\n            <div className=\"item-page__loading__container__text item-page__loading__container__text--price\"></div>\r\n            <div className=\"item-page__loading__container__text item-page__loading__container__text--ratings\"></div>\r\n            <div className=\"item-page__loading__container__box\"></div>\r\n            <div className=\"item-page__loading__container__box\"></div>\r\n            <div className=\"item-page__loading__container__small-box\"></div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"item-page__item\">\r\n          <div className=\"item-page__item__image\">\r\n            <img\r\n              src={imgPrefix(500) + item.stock[stockIndex].images[0]}\r\n              alt={item.name}\r\n              onError={(e) => {\r\n                e.target.src = \"/images/imgFailed.jpg\";\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <form className=\"item-page__item__content\" onSubmit={handleSubmit}>\r\n            <p className=\"item-page__item__content__name\">{item.name}</p>\r\n            <p className=\"item-page__item__content__price\">{`$${(\r\n              item.price / 100\r\n            ).toFixed(2)}`}</p>\r\n\r\n            {item.averageRating && (\r\n              <div className=\"item-page__item__content__rating-container\">\r\n                <div className=\"item-page__item__content__rating-container__icons\">\r\n                  {`${item.averageRating}`.split(\".\").map((el, index) => {\r\n                    if (index === 0) {\r\n                      const arr = [];\r\n                      for (var i = 0; i < Number(el); i++) {\r\n                        arr.push(\r\n                          <FontAwesomeIcon\r\n                            key={i}\r\n                            icon=\"star\"\r\n                            className=\"item-page__item__content__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                      return arr;\r\n                    } else {\r\n                      return (\r\n                        <FontAwesomeIcon\r\n                          key={9}\r\n                          icon=\"star-half\"\r\n                          className=\"item-page__item__content__rating-container__icons__icon\"\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n                <p className=\"item-page__item__content__rating-container__rating\">\r\n                  {item.averageRating.toFixed(1)}\r\n                </p>\r\n                <p className=\"item-page__item__content__rating-container__people\">\r\n                  {`(${item.totalRatings})`}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"item-page__item__content__color-container\">\r\n              <p className=\"item-page__item__content__color-container__label\">\r\n                color :\r\n              </p>\r\n              <div className=\"item-page__item__content__color-container__colors\">\r\n                {item.stock.map((el, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={\r\n                      stockIndex === index\r\n                        ? \"item-page__item__content__color-container__colors__color-box item-page__item__content__color-container__colors__color-box--active\"\r\n                        : \"item-page__item__content__color-container__colors__color-box\"\r\n                    }\r\n                    onClick={() => {\r\n                      setStockIndex(index);\r\n                      setSizeIndex(0);\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{ backgroundColor: el.color }}\r\n                      className=\"item-page__item__content__color-container__colors__color-box__color\"\r\n                    ></div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"item-page__item__content__size-container\">\r\n              <p className=\"item-page__item__content__size-container__label\">\r\n                size :\r\n              </p>\r\n              <div className=\"item-page__item__content__size-container__sizes\">\r\n                {item.stock[stockIndex].sizeRemaining.map((el, index) => (\r\n                  <p\r\n                    key={index}\r\n                    className={\r\n                      index === sizeIndex\r\n                        ? \"item-page__item__content__size-container__sizes__size item-page__item__content__size-container__sizes__size--active\"\r\n                        : \"item-page__item__content__size-container__sizes__size\"\r\n                    }\r\n                    onClick={() => {\r\n                      setSizeIndex(index);\r\n                    }}\r\n                  >\r\n                    {el.size}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n              {item.stock[stockIndex].sizeRemaining[sizeIndex].remaining <\r\n                51 && (\r\n                <p className=\"item-page__item__content__size-container__remaining\">\r\n                  {item.stock[stockIndex].sizeRemaining[sizeIndex].remaining}{\" \"}\r\n                  items left\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"item-page__item__content__quantity-container\">\r\n              <p className=\"item-page__item__content__quantity-container__label\">\r\n                quantity :\r\n              </p>\r\n              <input\r\n                type=\"number\"\r\n                value={quantity.toString()}\r\n                min={1}\r\n                max={item.stock[stockIndex].sizeRemaining[sizeIndex].remaining}\r\n                onChange={(e) => {\r\n                  setQuantity(Number(e.target.value));\r\n                }}\r\n              />\r\n            </div>\r\n            <button\r\n              className=\"item-page__item__content__cart-button\"\r\n              style={\r\n                !(\r\n                  quantity > 0 &&\r\n                  quantity <=\r\n                    item.stock[stockIndex].sizeRemaining[sizeIndex].remaining\r\n                )\r\n                  ? { opacity: 0.7, cursor: \"default\" }\r\n                  : {}\r\n              }\r\n              type=\"submit\"\r\n            >\r\n              add to cart\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <Reviews id={id} totalRatings={item.totalRatings} setItem={setItem} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n"],"names":["_ref","id","totalRatings","user","setItem","useContext","UserContext","_useContext2","ReviewsContext","userReviews","reviews","setUserReviews","setReviews","_useContext3","UserCountContext","userCount","setUserCount","_useContext4","HideReviewsContent","hideReviews","setHideReviews","orders","OrdersContext","_useState","useState","_useState2","_slicedToArray","showInput","setShowInput","_useState3","_useState4","loading","setLoading","_useState5","_useState6","page","setPage","_useState7","_useState8","_useState9","_useState10","userReview","setUserReview","_useState11","_useState12","purchased","setPurchased","_useState13","_useState14","errorMsgs","setErrorMsgs","_useState15","_useState16","successMsgs","setSuccessMsgs","_useState17","_useState18","showMsgs","setShowMsgs","_useState19","_useState20","paginateLoading","setPaginateLoading","useEffect","_reviews$reviewed$pur","reviewed","name","forEach","el","productId","email","push","includes","items","e","_id","customer","filter","undefined","axios","concat","then","res","_res$data","data","i","splice","length","catch","err","console","log","document","getElementById","focus","querySelector","style","height","scrollHeight","setHeight","useCallback","window","addEventListener","removeEventListener","a","setTimeout","b","c","clearTimeout","pagination","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","_useForm","useForm","register","handleSubmit","errors","formState","review","message","_jsxs","className","children","_jsx","FontAwesomeIcon","icon","onClick","onSubmit","userName","rating","_toConsumableArray","_objectSpread","defaultValue","value","placeholder","required","onInput","target","type","slice","split","map","index","arr","Number","j","navigate","useNavigate","item","stockIndex","setStockIndex","sizeIndex","setSizeIndex","quantity","setQuantity","addedToCart","setAddedToCart","useParams","setCart","CartContext","userProducts","UserProductsContext","hideProducts","HideProductsContext","imgPrefix","imgPrefixContext","str","title","replace","_","m1","m2","toUpperCase","toLowerCase","product","status","Error","Link","to","src","stock","images","alt","onError","preventDefault","exist","findIndex","size","sizeRemaining","color","image","price","toFixed","averageRating","backgroundColor","remaining","toString","min","max","onChange","opacity","cursor","Reviews"],"sourceRoot":""}