{"version":3,"file":"static/js/29.2fff552f.chunk.js","mappings":"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","sources":["components/item/subComponents/Reviews.js","components/item/Item.js"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  UserContext,\r\n  ReviewsContext,\r\n  UserCountContext,\r\n  HideReviewsContent,\r\n  OrdersContext,\r\n} from \"../../../App\";\r\nimport axios from \"axios\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nfunction Reviews({ id, totalRatings, setItem }) {\r\n  const { user } = useContext(UserContext);\r\n  const { reviews: userReviews, setReviews: setUserReviews } = useContext(\r\n    ReviewsContext\r\n  );\r\n  const { userCount, setUserCount } = useContext(UserCountContext);\r\n  const { hideReviews, setHideReviews } = useContext(HideReviewsContent);\r\n  const { orders } = useContext(OrdersContext);\r\n\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [page, setPage] = useState(0);\r\n  const limit = 12;\r\n\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const [userReview, setUserReview] = useState({});\r\n  const [purchased, setPurchased] = useState(false);\r\n\r\n  const [errorMsgs, setErrorMsgs] = useState(\"\");\r\n  const [successMsgs, setSuccessMsgs] = useState(\"\");\r\n  const [showMsgs, setShowMsgs] = useState(false);\r\n\r\n  const [paginateLoading, setPaginateLoading] = useState(false);\r\n\r\n  // getting reviews from server\r\n  useEffect(() => {\r\n    if (id < 20) {\r\n      let { reviews, reviewed, purchased } = {\r\n        reviews: [],\r\n        reviewed: {},\r\n        purchased: false,\r\n      };\r\n      if (typeof user.name !== \"undefined\") {\r\n        userReviews.forEach((el) => {\r\n          if (el.productId === id && el.email !== user.email) {\r\n            reviews.push(el);\r\n          }\r\n          if (el.productId === id && el.email === user.email) {\r\n            if (!hideReviews.includes(id + \"&&&\" + user.email)) {\r\n              reviewed = el;\r\n            }\r\n          }\r\n        });\r\n        orders.forEach((el) => {\r\n          if (!purchased) {\r\n            el.items.forEach((e) => {\r\n              if (e._id === id && el.customer.email === user.email) {\r\n                purchased = true;\r\n              }\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        userReviews.forEach((el) => {\r\n          if (el.productId === id) {\r\n            reviews.push(el);\r\n          }\r\n        });\r\n      }\r\n      reviews.filter((e) => !hideReviews.includes(id + \"&&&\" + user.email));\r\n      if (typeof reviewed.email === \"undefined\") {\r\n        setUserReview(undefined);\r\n      } else {\r\n        reviews = reviews.filter((e) => e.email !== user.email);\r\n        setUserReview(reviewed);\r\n      }\r\n      setReviews(reviews);\r\n      setPurchased(purchased);\r\n      setPage(1);\r\n      setLoading(false);\r\n    } else {\r\n      axios\r\n        .get(`/product/reviews?productId=${id}&page=${0}&limit=${limit}`)\r\n        .then((res) => {\r\n          let { reviews, reviewed, purchased } = res.data;\r\n\r\n          if (typeof user.name !== \"undefined\") {\r\n            userReviews.forEach((el) => {\r\n              if (el.productId === id && el.email !== user.email) {\r\n                reviews.push(el);\r\n              }\r\n              if (el.productId === id && el.email === user.email) {\r\n                reviewed = [el];\r\n              }\r\n            });\r\n            reviews.forEach((e, i) => {\r\n              if (e.email === user.email) {\r\n                reviews.splice(i, 1);\r\n              }\r\n            });\r\n            orders.forEach((el) => {\r\n              if (!purchased) {\r\n                el.items.forEach((e) => {\r\n                  if (e._id === id && el.customer.email === user.email) {\r\n                    purchased = true;\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            userReviews.forEach((el) => {\r\n              if (el.productId === id) {\r\n                reviews.push(el);\r\n              }\r\n            });\r\n          }\r\n          reviews.filter((e) => !hideReviews.includes(id + \"&&&\" + user.email));\r\n\r\n          if (typeof reviewed !== \"undefined\") {\r\n            if (reviewed.length < 1) {\r\n              setReviews(reviews);\r\n              setUserReview(undefined);\r\n            } else {\r\n              reviews = reviews.filter((e) => e.email !== user.email);\r\n              setReviews(reviews.filter((el) => el._id !== reviewed[0]._id));\r\n              if (!hideReviews.includes(id + \"&&&\" + user.email)) {\r\n                setUserReview(reviewed[0]);\r\n              } else {\r\n                setUserReview(undefined);\r\n              }\r\n            }\r\n          } else {\r\n            setReviews(reviews);\r\n            setUserReview(undefined);\r\n          }\r\n\r\n          setPurchased(purchased);\r\n          setPage(1);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [id, orders, user, userReviews, hideReviews]);\r\n\r\n  // focusing text-area\r\n  useEffect(() => {\r\n    if (showInput) {\r\n      const textArea = document.getElementById(\"text-area\");\r\n      textArea.focus();\r\n      document.querySelector(\"textarea\").style.height =\r\n        document.querySelector(\"textarea\").scrollHeight + \"px\";\r\n    }\r\n  }, [showInput]);\r\n\r\n  const setHeight = useCallback(() => {\r\n    if (showInput) {\r\n      document.querySelector(\"textarea\").style.height =\r\n        document.querySelector(\"textarea\").scrollHeight + \"px\";\r\n    }\r\n  }, [showInput]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", setHeight);\r\n\r\n    return () => window.removeEventListener(\"resize\", setHeight);\r\n  }, [setHeight]);\r\n\r\n  useEffect(() => {\r\n    if (errorMsgs !== \"\") {\r\n      const a = setTimeout(() => {\r\n        setErrorMsgs(\"\");\r\n      }, 3400);\r\n      const b = setTimeout(() => {\r\n        setShowMsgs(true);\r\n      }, 1);\r\n      const c = setTimeout(() => {\r\n        setShowMsgs(false);\r\n      }, 3000);\r\n\r\n      return () => {\r\n        clearTimeout(a);\r\n        clearTimeout(b);\r\n        clearTimeout(c);\r\n      };\r\n    }\r\n  }, [errorMsgs]);\r\n\r\n  useEffect(() => {\r\n    if (successMsgs !== \"\") {\r\n      const a = setTimeout(() => {\r\n        setSuccessMsgs(\"\");\r\n      }, 3400);\r\n      const b = setTimeout(() => {\r\n        setShowMsgs(true);\r\n      }, 1);\r\n      const c = setTimeout(() => {\r\n        setShowMsgs(false);\r\n      }, 3000);\r\n\r\n      return () => {\r\n        clearTimeout(a);\r\n        clearTimeout(b);\r\n        clearTimeout(c);\r\n      };\r\n    }\r\n  }, [successMsgs]);\r\n\r\n  const pagination = async () => {\r\n    setPaginateLoading(true);\r\n    axios\r\n      .get(\r\n        `/product/reviews/?userId=${user.name}&productId=${id}&page=${page}&limit=${limit}`\r\n      )\r\n      .then((res) => {\r\n        if (typeof userReview !== \"undefined\") {\r\n          setReviews((prev) =>\r\n            prev.concat(\r\n              res.data.reviews.filter((el) => el._id !== userReview._id)\r\n            )\r\n          );\r\n        } else {\r\n          setReviews((prev) => prev.concat(res.data.reviews));\r\n        }\r\n        setPage((prev) => prev + 1);\r\n        setPaginateLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  useEffect(() => {\r\n    if (typeof errors.review !== \"undefined\") {\r\n      setErrorMsgs(errors.review.message);\r\n    }\r\n  }, [errors]);\r\n\r\n  const onSubmit = (data) => {\r\n    setLoading(true);\r\n    let review = {\r\n      _id: userCount,\r\n      productId: id,\r\n      email: user.email,\r\n      userName: user.name,\r\n      rating: data.rating,\r\n      review: data.review,\r\n    };\r\n\r\n    setUserReviews((prev) => [\r\n      ...prev.filter((el) => review.email !== el.email),\r\n      review,\r\n    ]);\r\n    setUserCount((prev) => prev + 1);\r\n    setPage(0);\r\n\r\n    //at last\r\n    setLoading(false);\r\n    setShowInput(false);\r\n    setSuccessMsgs(\"review updated successfully\");\r\n\r\n    // axios\r\n    //   .put(\"/product/reviews/add\", {\r\n    //     ...data,\r\n    //     productId: id,\r\n    //   })\r\n    //   .then((res) => {\r\n    //     setPage(0);\r\n    //     setLoading(true);\r\n    //     axios\r\n    //       .get(`/product/reviews?productId=${id}&page=${0}&limit=${limit}`)\r\n    //       .then((res) => {\r\n    //         const { reviews, reviewed, purchased } = res.data;\r\n\r\n    //         if (typeof reviewed !== \"undefined\") {\r\n    //           if (reviewed.length < 1) {\r\n    //             setReviews(reviews);\r\n    //             setUserReview(undefined);\r\n    //           } else {\r\n    //             setReviews(reviews.filter((el) => el._id !== reviewed[0]._id));\r\n    //             setUserReview(reviewed[0]);\r\n    //           }\r\n    //         } else {\r\n    //           setReviews(reviews);\r\n    //           setUserReview(undefined);\r\n    //         }\r\n\r\n    //         setPurchased(purchased);\r\n    //         setPage(1);\r\n    //         setLoading(false);\r\n    //         setSuccessMsgs(\"review updated successfully\");\r\n    //         // axios\r\n    //         //   .get(`/product/${id}`)\r\n    //         //   .then((res) => {\r\n    //         //     if (res.status !== 200) {\r\n    //         //       throw new Error();\r\n    //         //     }\r\n    //         //     setItem(res.data);\r\n    //         //   })\r\n    //         //   .catch((err) => {\r\n    //         //     console.log(err);\r\n    //         //   });\r\n    //       })\r\n    //       .catch((err) => {\r\n    //         console.log(err);\r\n\r\n    //         setLoading(false);\r\n    //         setSuccessMsgs(\"review updated successfully\");\r\n    //       });\r\n    //     setShowInput(false);\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     setErrorMsgs(\"something went wrong. please try again\");\r\n    //     console.log(err);\r\n    //   });\r\n  };\r\n\r\n  return loading ? (\r\n    <div className=\"item-page__loading__container item-page__loading__container--reviews\">\r\n      <div className=\"item-page__loading__container__title\"></div>\r\n      <div className=\"item-page__loading__container__flex\">\r\n        <div className=\"item-page__loading__container__circle\"></div>\r\n        <div className=\"item-page__loading__container__text\"></div>\r\n      </div>\r\n      <div className=\"item-page__loading__container__text item-page__loading__container__text--ratings\"></div>\r\n      <div className=\"item-page__loading__container__text\"></div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"item-page__reviews-container\">\r\n      {errorMsgs !== \"\" && (\r\n        <div className={showMsgs ? \"msg msg--visible\" : \"msg\"}>\r\n          <FontAwesomeIcon\r\n            icon={[\"far\", \"times-circle\"]}\r\n            className=\"icon\"\r\n            onClick={() => {\r\n              setSuccessMsgs(\"\");\r\n            }}\r\n          />\r\n          <p>{errorMsgs}</p>\r\n        </div>\r\n      )}\r\n      {successMsgs !== \"\" && (\r\n        <div className={showMsgs ? \"msg msg--visible\" : \"msg\"}>\r\n          <FontAwesomeIcon\r\n            icon={[\"far\", \"check-circle\"]}\r\n            className=\"icon\"\r\n            onClick={() => {\r\n              setSuccessMsgs(\"\");\r\n            }}\r\n          />\r\n          <p>{successMsgs}</p>\r\n        </div>\r\n      )}\r\n      <div className=\"item-page__reviews-container__title-container\">\r\n        <h1>reviews</h1>\r\n\r\n        {!showInput && !loading && (\r\n          <p\r\n            onClick={() => {\r\n              if (errorMsgs === \"\") {\r\n                if (typeof user.name !== \"undefined\") {\r\n                  if (purchased) {\r\n                    setShowInput(true);\r\n                  } else {\r\n                    setErrorMsgs(\r\n                      \"you need to purchase the product first inorder or review about it\"\r\n                    );\r\n                  }\r\n                } else {\r\n                  setErrorMsgs(\"login or signup to review about it\");\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            {typeof userReview !== \"undefined\"\r\n              ? \"Edit review\"\r\n              : \"Write a review\"}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {showInput && (\r\n        <div className=\"item-page__reviews-container__edit\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"item-page__reviews-container__edit__select\">\r\n              <select\r\n                name=\"rating\"\r\n                ref={register}\r\n                defaultValue={\r\n                  typeof userReview !== \"undefined\" ? userReview.rating : \"1\"\r\n                }\r\n              >\r\n                <option value=\"1\">1</option>\r\n                <option value=\"1.5\">1.5</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"2.5\">2.5</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"3.5\">3.5</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"4.5\">4.5</option>\r\n                <option value=\"5\">5</option>\r\n              </select>\r\n              <FontAwesomeIcon className=\"icon\" icon=\"chevron-right\" />\r\n            </div>\r\n            <textarea\r\n              name=\"review\"\r\n              id=\"text-area\"\r\n              placeholder=\"Type here....\"\r\n              ref={register({ required: \"reviews are required\" })}\r\n              defaultValue={\r\n                typeof userReview !== \"undefined\" ? userReview.review : \"\"\r\n              }\r\n              onInput={(e) => {\r\n                e.target.style.height = e.target.scrollHeight + \"px\";\r\n              }}\r\n            />\r\n            <div className=\"item-page__reviews-container__edit__button-container\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShowInput(false);\r\n                }}\r\n              >\r\n                cancel\r\n              </button>\r\n              <button\r\n                className={\r\n                  typeof errors.review !== \"undefined\"\r\n                    ? \"item-page__reviews-container__edit__button-container--disabled\"\r\n                    : \"\"\r\n                }\r\n                type=\"submit\"\r\n              >\r\n                add\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {reviews.length < 1 && typeof userReview === \"undefined\" ? (\r\n        <p className=\"item-page__reviews-container__no-reviews\">\r\n          This product is not yet rated.\r\n        </p>\r\n      ) : (\r\n        <div className=\"item-page__reviews-container__reviews\">\r\n          {typeof userReview !== \"undefined\" && (\r\n            <div className=\"item-page__reviews-container__reviews__review\">\r\n              <div className=\"item-page__reviews-container__reviews__review__profile\">\r\n                <div className=\"item-page__reviews-container__reviews__review__profile__img\">\r\n                  {userReview.userName.slice(0, 1)}\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__profile__name\">\r\n                  {userReview.userName}\r\n                </p>\r\n              </div>\r\n              <div className=\"item-page__reviews-container__reviews__review__rating-container\">\r\n                <div className=\"item-page__reviews-container__reviews__review__rating-container__icons\">\r\n                  {`${userReview.rating}`.split(\".\").map((el, index) => {\r\n                    if (index === 0) {\r\n                      const arr = [];\r\n                      for (var i = 0; i < Number(el); i++) {\r\n                        arr.push(\r\n                          <FontAwesomeIcon\r\n                            key={i}\r\n                            icon=\"star\"\r\n                            className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                      return arr;\r\n                    } else {\r\n                      return (\r\n                        <FontAwesomeIcon\r\n                          key={9}\r\n                          icon=\"star-half\"\r\n                          className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__rating-container__rating\">\r\n                  {`(${userReview.rating})`}\r\n                </p>\r\n              </div>\r\n              <p className=\"item-page__reviews-container__reviews__review__desc\">\r\n                {userReview.review}\r\n              </p>\r\n              <FontAwesomeIcon\r\n                icon=\"trash\"\r\n                className=\"icon\"\r\n                onClick={() => {\r\n                  setHideReviews((prev) => [...prev, id + \"&&&\" + user.email]);\r\n                  setUserReview(undefined);\r\n                  setSuccessMsgs(\"your review had deleted successfully\");\r\n                  // axios\r\n                  //   .put(`/product/review/delete/${id}`)\r\n                  //   .then((res) => {\r\n                  //     setUserReview(undefined);\r\n                  //     setSuccessMsgs(\"your review had deleted successfully\");\r\n                  //   })\r\n                  //   .catch((err) => {\r\n                  //     console.log(err);\r\n                  //     setErrorMsgs(\"something went wrong. Try again later\");\r\n                  //   });\r\n                }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {reviews.map((el, j) => {\r\n            return (\r\n              <div\r\n                className=\"item-page__reviews-container__reviews__review\"\r\n                key={j}\r\n              >\r\n                <div className=\"item-page__reviews-container__reviews__review__profile\">\r\n                  <div className=\"item-page__reviews-container__reviews__review__profile__img\">\r\n                    {el.userName.slice(0, 1)}\r\n                  </div>\r\n                  <p className=\"item-page__reviews-container__reviews__review__profile__name\">\r\n                    {el.userName}\r\n                  </p>\r\n                </div>\r\n                <div className=\"item-page__reviews-container__reviews__review__rating-container\">\r\n                  <div className=\"item-page__reviews-container__reviews__review__rating-container__icons\">\r\n                    {`${el.rating}`.split(\".\").map((el, index) => {\r\n                      if (index === 0) {\r\n                        const arr = [];\r\n                        for (var i = 0; i < Number(el); i++) {\r\n                          arr.push(\r\n                            <FontAwesomeIcon\r\n                              key={i}\r\n                              icon=\"star\"\r\n                              className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                            />\r\n                          );\r\n                        }\r\n                        return arr;\r\n                      } else {\r\n                        return (\r\n                          <FontAwesomeIcon\r\n                            key={9}\r\n                            icon=\"star-half\"\r\n                            className=\"item-page__reviews-container__reviews__review__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                    })}\r\n                  </div>\r\n                  <p className=\"item-page__reviews-container__reviews__review__rating-container__rating\">\r\n                    {`(${el.rating})`}\r\n                  </p>\r\n                </div>\r\n                <p className=\"item-page__reviews-container__reviews__review__desc\">\r\n                  {el.review}\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          <p className=\"item-page__reviews-container__reviews__count\">\r\n            {(typeof userReview !== \"undefined\"\r\n              ? reviews.length + 1\r\n              : reviews.length) < totalRatings\r\n              ? `${\r\n                  typeof userReview !== \"undefined\"\r\n                    ? reviews.length + 1\r\n                    : reviews.length\r\n                } / ${totalRatings}`\r\n              : `${totalRatings}/${totalRatings}`}{\" \"}\r\n            reviews\r\n          </p>\r\n          {(typeof userReview !== \"undefined\"\r\n            ? reviews.length + 1\r\n            : reviews.length) < totalRatings && (\r\n            <button\r\n              className={\r\n                paginateLoading\r\n                  ? \"item-page__reviews-container__reviews__load-more--loading\"\r\n                  : \"item-page__reviews-container__reviews__load-more\"\r\n              }\r\n              type=\"button\"\r\n              onClick={() => {\r\n                if (!paginateLoading) {\r\n                  pagination();\r\n                }\r\n              }}\r\n            >\r\n              {paginateLoading ? (\r\n                <div className=\"item-page__reviews-container__reviews__load-more\"></div>\r\n              ) : (\r\n                \"load more\"\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Reviews;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./Item.css\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CartContext,\r\n  HideProductsContext,\r\n  UserProductsContext,\r\n} from \"../../App\";\r\nimport Reviews from \"./subComponents/Reviews\";\r\n\r\nfunction Item() {\r\n  const history = useHistory();\r\n  const [item, setItem] = useState({});\r\n  const [stockIndex, setStockIndex] = useState(0);\r\n  const [sizeIndex, setSizeIndex] = useState(0);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [addedToCart, setAddedToCart] = useState(false);\r\n\r\n  const { id } = useParams();\r\n\r\n  const { setCart } = useContext(CartContext);\r\n  const { userProducts } = useContext(UserProductsContext);\r\n  const { hideProducts } = useContext(HideProductsContext);\r\n\r\n  useEffect(() => {\r\n    if (typeof item._id !== \"undefined\") {\r\n      document.title = `${item.name} | Stand Out`;\r\n    }\r\n  }, [item]);\r\n\r\n  useEffect(() => {\r\n    if (addedToCart) {\r\n      const a = setTimeout(() => {\r\n        setAddedToCart(false);\r\n      }, 3000);\r\n      return () => clearTimeout(a);\r\n    }\r\n  }, [addedToCart]);\r\n\r\n  useEffect(() => {\r\n    if (id.length < 20 || hideProducts.includes(id)) {\r\n      const product = userProducts.filter((e) => e._id === id);\r\n\r\n      if (product.length === 0) {\r\n        history.replace(\"/404\");\r\n      } else {\r\n        setItem(product[0]);\r\n      }\r\n    } else {\r\n      axios\r\n        .get(`/product/${id}`)\r\n        .then((res) => {\r\n          if (res.status !== 200) {\r\n            throw new Error();\r\n          }\r\n          if (typeof res.data.name === \"undefined\") {\r\n            history.replace(\"/404\");\r\n          } else {\r\n            setItem(res.data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          history.replace(\"/404\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [id, userProducts, hideProducts, history]);\r\n\r\n  return (\r\n    <div className=\"item-page\">\r\n      <div\r\n        className={\r\n          addedToCart\r\n            ? \"item-page__added item-page__added--visible\"\r\n            : \"item-page__added\"\r\n        }\r\n      >\r\n        <p>Added to Cart</p>\r\n        <Link to=\"/checkout\">\r\n          <button>go to cart</button>\r\n        </Link>\r\n      </div>\r\n\r\n      {typeof item._id === \"undefined\" ? (\r\n        <div className=\"item-page__loading__container item-page__loading__container--flexbox\">\r\n          <div className=\"item-page__loading__container__img\"></div>\r\n          <div className=\"item-page__loading__container__content\">\r\n            <div className=\"item-page__loading__container__text\"></div>\r\n            <div className=\"item-page__loading__container__text item-page__loading__container__text--price\"></div>\r\n            <div className=\"item-page__loading__container__text item-page__loading__container__text--ratings\"></div>\r\n            <div className=\"item-page__loading__container__box\"></div>\r\n            <div className=\"item-page__loading__container__box\"></div>\r\n            <div className=\"item-page__loading__container__small-box\"></div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"item-page__item\">\r\n          <div className=\"item-page__item__image\">\r\n            <img\r\n              src={item.stock[stockIndex].images[0]}\r\n              alt={item.name}\r\n              onError={(e) => {\r\n                e.target.src = \"/images/imgFailed.jpg\";\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"item-page__item__content\">\r\n            <p className=\"item-page__item__content__name\">{item.name}</p>\r\n            <p className=\"item-page__item__content__price\">{`$${(\r\n              item.price / 100\r\n            ).toFixed(2)}`}</p>\r\n\r\n            {item.averageRating && (\r\n              <div className=\"item-page__item__content__rating-container\">\r\n                <div className=\"item-page__item__content__rating-container__icons\">\r\n                  {`${item.averageRating}`.split(\".\").map((el, index) => {\r\n                    if (index === 0) {\r\n                      const arr = [];\r\n                      for (var i = 0; i < Number(el); i++) {\r\n                        arr.push(\r\n                          <FontAwesomeIcon\r\n                            key={i}\r\n                            icon=\"star\"\r\n                            className=\"item-page__item__content__rating-container__icons__icon\"\r\n                          />\r\n                        );\r\n                      }\r\n                      return arr;\r\n                    } else {\r\n                      return (\r\n                        <FontAwesomeIcon\r\n                          key={9}\r\n                          icon=\"star-half\"\r\n                          className=\"item-page__item__content__rating-container__icons__icon\"\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n                <p className=\"item-page__item__content__rating-container__rating\">\r\n                  {item.averageRating.toFixed(1)}\r\n                </p>\r\n                <p className=\"item-page__item__content__rating-container__people\">\r\n                  {`(${item.totalRatings})`}\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"item-page__item__content__color-container\">\r\n              <p className=\"item-page__item__content__color-container__label\">\r\n                color :\r\n              </p>\r\n              <div className=\"item-page__item__content__color-container__colors\">\r\n                {item.stock.map((el, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={\r\n                      stockIndex === index\r\n                        ? \"item-page__item__content__color-container__colors__color-box item-page__item__content__color-container__colors__color-box--active\"\r\n                        : \"item-page__item__content__color-container__colors__color-box\"\r\n                    }\r\n                    onClick={() => {\r\n                      setStockIndex(index);\r\n                      setSizeIndex(0);\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{ backgroundColor: el.color }}\r\n                      className=\"item-page__item__content__color-container__colors__color-box__color\"\r\n                    ></div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"item-page__item__content__size-container\">\r\n              <p className=\"item-page__item__content__size-container__label\">\r\n                size :\r\n              </p>\r\n              <div className=\"item-page__item__content__size-container__sizes\">\r\n                {item.stock[stockIndex].sizeRemaining.map((el, index) => (\r\n                  <p\r\n                    key={index}\r\n                    className={\r\n                      index === sizeIndex\r\n                        ? \"item-page__item__content__size-container__sizes__size item-page__item__content__size-container__sizes__size--active\"\r\n                        : \"item-page__item__content__size-container__sizes__size\"\r\n                    }\r\n                    onClick={() => {\r\n                      setSizeIndex(index);\r\n                    }}\r\n                  >\r\n                    {el.size}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n              {item.stock[stockIndex].sizeRemaining[sizeIndex].remaining <\r\n                51 && (\r\n                <p className=\"item-page__item__content__size-container__remaining\">\r\n                  {item.stock[stockIndex].sizeRemaining[sizeIndex].remaining}{\" \"}\r\n                  items left\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"item-page__item__content__quantity-container\">\r\n              <p className=\"item-page__item__content__quantity-container__label\">\r\n                quantity :\r\n              </p>\r\n              <input\r\n                type=\"number\"\r\n                value={quantity}\r\n                min={1}\r\n                max={item.stock[stockIndex].sizeRemaining[sizeIndex].remaining}\r\n                onChange={(e) => {\r\n                  setQuantity(Number(e.target.value));\r\n                }}\r\n              />\r\n            </div>\r\n            <button\r\n              className=\"item-page__item__content__cart-button\"\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setAddedToCart(true);\r\n                setCart((prev) => {\r\n                  const exist = prev.findIndex(\r\n                    (el) =>\r\n                      el._id === item._id &&\r\n                      el.size ===\r\n                        item.stock[stockIndex].sizeRemaining[sizeIndex].size &&\r\n                      el.color === item.stock[stockIndex].color\r\n                  );\r\n\r\n                  if (exist === -1) {\r\n                    return [\r\n                      ...prev,\r\n                      {\r\n                        _id: item._id,\r\n                        image: item.stock[stockIndex].images[0],\r\n                        name: item.name,\r\n                        price: item.price,\r\n                        size:\r\n                          item.stock[stockIndex].sizeRemaining[sizeIndex].size,\r\n                        color: item.stock[stockIndex].color,\r\n                        quantity: quantity,\r\n                      },\r\n                    ];\r\n                  } else {\r\n                    const a = [...prev];\r\n\r\n                    a[exist] = {\r\n                      _id: item._id,\r\n                      image: item.stock[stockIndex].images[0],\r\n                      name: item.name,\r\n                      price: item.price,\r\n                      size:\r\n                        item.stock[stockIndex].sizeRemaining[sizeIndex].size,\r\n                      color: item.stock[stockIndex].color,\r\n                      quantity: quantity + a[exist].quantity,\r\n                    };\r\n                    return [...a];\r\n                  }\r\n                });\r\n              }}\r\n            >\r\n              add to cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Reviews id={id} totalRatings={item.totalRatings} setItem={setItem} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n"],"names":["id","totalRatings","user","setItem","useContext","UserContext","ReviewsContext","userReviews","reviews","setUserReviews","setReviews","UserCountContext","userCount","setUserCount","HideReviewsContent","hideReviews","setHideReviews","orders","OrdersContext","useState","showInput","setShowInput","loading","setLoading","page","setPage","userReview","setUserReview","purchased","setPurchased","errorMsgs","setErrorMsgs","successMsgs","setSuccessMsgs","showMsgs","setShowMsgs","paginateLoading","setPaginateLoading","useEffect","reviewed","name","forEach","el","productId","email","push","includes","items","e","_id","customer","filter","undefined","axios","then","res","data","i","splice","length","catch","err","console","log","document","getElementById","focus","querySelector","style","height","scrollHeight","setHeight","useCallback","window","addEventListener","removeEventListener","a","setTimeout","b","c","clearTimeout","pagination","prev","concat","useForm","register","handleSubmit","errors","review","message","className","icon","onClick","onSubmit","userName","rating","ref","defaultValue","value","placeholder","required","onInput","target","type","slice","split","map","index","arr","Number","j","history","useHistory","item","stockIndex","setStockIndex","sizeIndex","setSizeIndex","quantity","setQuantity","addedToCart","setAddedToCart","useParams","setCart","CartContext","userProducts","UserProductsContext","hideProducts","HideProductsContext","title","product","replace","status","Error","to","src","stock","images","alt","onError","price","toFixed","averageRating","backgroundColor","color","sizeRemaining","size","remaining","min","max","onChange","exist","findIndex","image"],"sourceRoot":""}