"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[292],{8292:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(1413),i=n(2982),o=n(885),c=n(2791),a=n(1523),s=n(4569),l=n.n(s),u=n(8567),d=n(1363),f=n(184);var p=function(){var e=(0,c.useContext)(u.CartContext),t=e.cart,n=e.setCart,s=(0,c.useContext)(u.UserContext).user,p=(0,c.useContext)(u.OrdersContext),_=p.orders,h=p.setOrders,m=(0,c.useContext)(u.ColorsContext),b=(0,c.useState)(!1),y=(0,o.Z)(b,2),j=y[0],x=y[1],v=(0,c.useState)(!1),g=(0,o.Z)(v,2),k=g[0],O=g[1],N=(0,c.useState)(!1),w=(0,o.Z)(N,2),S=w[0],P=w[1],C=(0,c.useState)(""),E=(0,o.Z)(C,2),A=E[0],Z=E[1],I=(0,c.useState)(!0),D=(0,o.Z)(I,2),U=D[0],z=D[1],T=(0,c.useState)(!1),q=(0,o.Z)(T,2),F=q[0],R=q[1],G=(0,c.useCallback)((function(){var e=0;return t.forEach((function(t){e+=Number(t.price*t.quantity)})),e}),[t]);return(0,c.useEffect)((function(){document.title="My Shopping Cart | Stand Out"}),[]),(0,c.useEffect)((function(){if(!j){var e=["https://js.braintreegateway.com/web/3.65.0/js/client.min.js","https://js.braintreegateway.com/web/3.65.0/js/paypal-checkout.min.js"];e.forEach((function(t,n){var r=document.createElement("script");r.src=t,document.body.appendChild(r),e.length-1===n&&(r.onload=function(){x(!0)})}))}}),[j]),(0,c.useEffect)((function(){j&&l().get("/payment/client_token").then((function(e){200===e.status&&window.braintree.client.create({authorization:e.data}).then((function(e){return window.braintree.paypalCheckout.create({client:e})})).then((function(e){return e.loadPayPalSDK({currency:"USD",intent:"capture"})})).then((function(e){return window.paypal.Buttons({fundingSource:window.paypal.FUNDING.PAYPAL,createOrder:function(){return e.createPayment({flow:"checkout",amount:(Number(G()/100)+Number(2*G()/1e4)).toFixed(2),currency:"USD",intent:"capture",enableShippingAddress:!0})},onApprove:function(n,o){return e.tokenizePayment(n).then((function(e){var n={payload:e,cart:t};R(!0),l().post("/payment/paypal",n).then((function(e){R(!1),O(!0);var n=e.data.order;h((function(e){return[].concat((0,i.Z)(e),[(0,r.Z)((0,r.Z)({},n),{},{_id:e.length,items:t,delivered:!1,date:(new Date).toISOString()})])})),Z(_.length+1)})).catch((function(e){R(!1),P(!0)}))}))},onCancel:function(e){console.log("PayPal payment cancelled",JSON.stringify(e,0,2))},onError:function(e){console.error("PayPal error",e),R(!1),P(!0)}}).render("#paypal-button")})).then((function(){z(!1)})).catch((function(e){console.error(e)}))}))}),[j,t,G,_,h]),t.length<1?(0,f.jsxs)("div",{className:"checkout__tool-tip-container",children:[(0,f.jsxs)("div",{className:"checkout__tool-tip-container__tool-tip",children:[(0,f.jsx)("p",{children:"No items in your cart. Go back to home page and add some items to purchase."}),(0,f.jsx)(a.rU,{to:"/",children:(0,f.jsx)("button",{children:"ok"})})]}),(0,f.jsx)(a.rU,{to:"/",children:(0,f.jsx)("div",{className:"checkout__tool-tip-container__black-box",onClick:function(){n([])}})})]}):(0,f.jsxs)("div",{className:"checkout",children:[F&&(0,f.jsx)("div",{className:"checkout__loader-container",children:(0,f.jsx)("div",{className:"checkout__loader-container__loader"})}),k&&(0,f.jsxs)("div",{className:"checkout__tool-tip-container",children:[(0,f.jsxs)("div",{className:"checkout__tool-tip-container__tool-tip",children:[(0,f.jsx)("p",{children:"undefined"!==typeof s.name?"purchase successfull go to orders to see it.":"purchase successful. Your orderId is ".concat(A)}),(0,f.jsx)(a.rU,{to:"undefined"!==typeof s.name?"/your-orders":"/",children:(0,f.jsx)("button",{children:"ok"})})]}),(0,f.jsx)(a.rU,{to:"undefined"!==typeof s.name?"/your-orders":"/",children:(0,f.jsx)("div",{className:"checkout__tool-tip-container__black-box"})})]}),S&&(0,f.jsxs)("div",{className:"checkout__tool-tip-container",children:[(0,f.jsxs)("div",{className:"checkout__tool-tip-container__tool-tip",children:[(0,f.jsx)("p",{children:"payment failed please try again."}),(0,f.jsx)("button",{onClick:function(){P(!1)},children:"ok"})]}),(0,f.jsx)("div",{className:"checkout__tool-tip-container__black-box",onClick:function(){P(!1)}})]}),(0,f.jsxs)("div",{className:"checkout__items-container",children:[(0,f.jsxs)("h1",{children:["cart ",(0,f.jsxs)("span",{children:["(",function(){var e=0;return t.forEach((function(t){e+=t.quantity})),e}()," Items)"]})]}),(0,f.jsxs)("div",{className:"checkout__items-container__label",children:[(0,f.jsx)("p",{children:"Items"}),(0,f.jsx)("p",{children:"Price"})]}),(0,f.jsx)("div",{className:"checkout__items-container__items",children:t.map((function(e,t){return(0,f.jsxs)("div",{className:"checkout__items-container__items__item",children:[(0,f.jsxs)("div",{className:"checkout__items-container__items__item__content",children:[(0,f.jsx)("div",{className:"checkout__items-container__items__item__content__img",children:(0,f.jsx)(a.rU,{to:"/item/".concat(e._id),children:(0,f.jsx)("img",{src:e.image,alt:e.name,onError:function(e){e.target.src="/images/imgFailed.jpg"}})})}),(0,f.jsxs)("div",{className:"checkout__items-container__items__item__content__desc",children:[(0,f.jsx)(a.rU,{to:"/item/".concat(e._id),children:e.name}),(0,f.jsxs)("p",{children:["color: ",m.filter((function(t){return t[1]===e.color}))[0][0]]}),(0,f.jsxs)("p",{children:["size: ",e.size]}),(0,f.jsxs)("div",{className:"checkout__items-container__items__item__content__desc__select-container",children:[(0,f.jsx)("label",{children:"QTY:"}),(0,f.jsxs)("div",{className:"checkout__items-container__items__item__content__desc__select-container__select",children:[(0,f.jsxs)("select",{value:e.quantity,onChange:function(e){var r=e.target.value;n((function(e){var n=(0,i.Z)(e);return n[t].quantity=Number(r),(0,i.Z)(n)}))},children:[(0,f.jsx)("option",{value:"1",children:"1"}),(0,f.jsx)("option",{value:"2",children:"2"}),(0,f.jsx)("option",{value:"3",children:"3"}),(0,f.jsx)("option",{value:"4",children:"4"}),(0,f.jsx)("option",{value:"5",children:"5"}),(0,f.jsx)("option",{value:"6",children:"6"}),(0,f.jsx)("option",{value:"7",children:"7"}),(0,f.jsx)("option",{value:"8",children:"8"}),(0,f.jsx)("option",{value:"9",children:"9"}),(0,f.jsx)("option",{value:"10",children:"10"}),(0,f.jsx)("option",{value:"11",children:"11"}),(0,f.jsx)("option",{value:"12",children:"12"}),e.quantity>13&&(0,f.jsx)("option",{value:e.quantity,children:e.quantity})]}),(0,f.jsx)(d.G,{icon:"chevron-right",className:"icon"})]})]})]})]}),(0,f.jsx)("p",{className:"checkout__items-container__items__item__price",children:"$".concat((e.price*e.quantity/100).toFixed(2))}),(0,f.jsx)("p",{className:"checkout__items-container__items__item__remove",onClick:function(){n((function(t){var n=t.findIndex((function(t){return t._id===e._id&&t.size===e.size&&t.color===e.color})),r=(0,i.Z)(t);return r.splice(n,1),(0,i.Z)(r)}))},children:"remove"})]},t)}))})]}),(0,f.jsxs)("div",{className:"checkout__billing-container",children:[(0,f.jsxs)("div",{className:"checkout__billing-container__billing",children:[(0,f.jsx)("p",{className:"checkout__billing-container__billing__label",children:"cart summary"}),(0,f.jsxs)("div",{className:"checkout__billing-container__billing__desc",children:[(0,f.jsx)("p",{children:"Merchandise Subtotal"}),(0,f.jsx)("p",{children:"$".concat(G()/100)})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__billing__desc",children:[(0,f.jsx)("p",{children:"Shipping Charges"}),(0,f.jsx)("p",{children:"FREE"})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__billing__desc",children:[(0,f.jsx)("p",{children:"Estimated Tax"}),(0,f.jsx)("p",{children:"$".concat((2*G()/1e4).toFixed(2))})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__billing__total",children:[(0,f.jsx)("p",{children:"Estimated Total (usd) :"}),(0,f.jsx)("p",{children:"$".concat((Number(G()/100)+Number(2*G()/1e4)).toFixed(2))})]})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__button-container",children:[(0,f.jsx)(a.rU,{to:"/shipping-and-billing",children:(0,f.jsx)("button",{type:"button",className:"checkout__billing-container__button-container__checkout",children:"checkout"})}),U&&(0,f.jsx)("div",{className:"checkout__billing-container__button-container__loading-button",children:(0,f.jsx)("div",{className:"checkout__billing-container__button-container__loading-button__loader"})}),(0,f.jsx)("div",{id:"paypal-button",style:{visibility:U?"hidden":"visible",position:U?"absolute":"static"},className:U?"checkout__billing-container__button-container__paypal---hidden":""})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__features",children:[(0,f.jsxs)("div",{className:"checkout__billing-container__features__feature",children:[(0,f.jsx)("h3",{children:"Secure Shopping"}),(0,f.jsx)("p",{children:"No worries - all transactions are safe and secure."})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__features__feature",children:[(0,f.jsx)("h3",{children:"Return in online for up to 60 days."}),(0,f.jsx)("p",{children:"Return in store or online for up to 60 days."})]}),(0,f.jsxs)("div",{className:"checkout__billing-container__features__feature",children:[(0,f.jsx)("h3",{children:"Call us anytime at (123) 123-1234."}),(0,f.jsx)("p",{children:"Call us anytime at (123) 123-1234."})]})]})]})]})}},1363:function(e,t,n){n.d(t,{G:function(){return y}});var r=n(6307),i=n(2007),o=n.n(i),c=n(2791);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function _(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=p(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{})}var h=!1;try{h=!0}catch(x){}function m(e){return r.Qc.icon?r.Qc.icon(e):null===e?null:"object"===a(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function b(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?s({},e,t):{}}function y(e){var t=e.forwardedRef,n=d(e,["forwardedRef"]),i=n.icon,o=n.mask,c=n.symbol,a=n.className,l=n.title,p=n.titleId,_=m(i),x=b("classes",[].concat(f(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,o=e.inverse,c=e.border,a=e.listItem,l=e.flip,u=e.size,d=e.rotation,f=e.pull,p=(s(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":c,"fa-li":a,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(u),"undefined"!==typeof u&&null!==u),s(t,"fa-rotate-".concat(d),"undefined"!==typeof d&&null!==d&&0!==d),s(t,"fa-pull-".concat(f),"undefined"!==typeof f&&null!==f),s(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(n)),f(a.split(" ")))),v=b("transform","string"===typeof n.transform?r.Qc.transform(n.transform):n.transform),g=b("mask",m(o)),k=(0,r.qv)(_,u({},x,{},v,{},g,{symbol:c,title:l,titleId:p}));if(!k)return function(){var e;!h&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",_),null;var O=k.abstract,N={ref:t};return Object.keys(n).forEach((function(e){y.defaultProps.hasOwnProperty(e)||(N[e]=n[e])})),j(O[0],N)}y.displayName="FontAwesomeIcon",y.propTypes={border:o().bool,className:o().string,mask:o().oneOfType([o().object,o().array,o().string]),fixedWidth:o().bool,inverse:o().bool,flip:o().oneOf(["horizontal","vertical","both"]),icon:o().oneOfType([o().object,o().array,o().string]),listItem:o().bool,pull:o().oneOf(["right","left"]),pulse:o().bool,rotation:o().oneOf([0,90,180,270]),size:o().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o().bool,symbol:o().oneOfType([o().bool,o().string]),title:o().string,transform:o().oneOfType([o().string,o().object]),swapOpacity:o().bool},y.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var j=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=_(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[p(t)]=r}return e}),{attrs:{}}),c=r.style,a=void 0===c?{}:c,s=d(r,["style"]);return o.attrs.style=u({},o.attrs.style,{},a),t.apply(void 0,[n.tag,u({},o.attrs,{},s)].concat(f(i)))}.bind(null,c.createElement)},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},2982:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=292.0c75cf9c.chunk.js.map